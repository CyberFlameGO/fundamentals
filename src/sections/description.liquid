<section class="description
{% include 'section_utility_color_preset' %}
{% include 'section_utility_height_preset' %}" data-preview-item="description">
  <div class="description__container">
    <div class="description__wrapper">
      {% include 'section_headings' %}
      <article class="section__content">
        <section class="section__body">
          {{ section.settings.body }}
        </section>
        {% if section.blocks != empty %}
          <section class="section__button-group">
            {% for block in section.blocks %}
              {% if block.settings.button_url != blank and block.settings.button_text != blank %}
                <a class="button button-primary" href="{{ block.settings.button_url }}">{{ block.settings.button_text }}</a>
              {% endif %}
            {% endfor %}
          </section>
        {% endif %}
      </article>
    </div>
  </div>
</section>

{% style %}

section.description {

  {% include 'section_style_heading_order' %}
  {% include 'section_style_heading_ornament' %}

  .section__heading,
  .section__subheading {
    text-align: {{ section.settings.content_alignment }};
  }

  {% if section.settings.content_alignment == "center" %}
    .section__subheading:before {
      margin-right: auto;
      margin-left: auto;
    }
    .section__headings,
    .section__content {
      @include screen-lg-min {
        @include make-col(12);
      }
    }
  {% endif %}

  {% if section.settings.content_alignment == "right" %}
    .section__headings {
      @include order(2);
    }
    .section__content {
      @include order(1);
    }
  {% endif %}
}

{% endstyle %}

{% schema %}
{
  "label":"Description",
  "settings":[
    {
      "label":"Headings",
      "settings":[
        {
          "type":"text",
          "id":"heading",
          "label":"Heading",
          "default":"Course description"
        },
        {
          "type":"text",
          "id":"subheading",
          "label":"Subheading",
          "default":""
        },
        {
          "type":"radio",
          "id":"heading_order",
          "label":"Order",
          "default":"default",
          "options":[
            {
              "value":"default",
              "label":"Default"
            },
            {
              "value":"flipped",
              "label":"Flipped"
            }
          ]
        },
        {
          "type":"checkbox",
          "id":"show_heading_ornament",
          "label":"Show ornament",
          "default":false
        }
      ]
    },
    {
      "label":"Text",
      "settings":[
        {
          "type":"textarea",
          "id":"body",
          "label":"",
          "default":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed at ante vitae nulla vulputate elementum. Maecenas imperdiet malesuada lacinia. Donec sit amet aliquet urna. Nam sit amet eros dapibus, commodo ligula a, imperdiet mi."
        }
      ]
    },
    {
      "label":"Content alignment",
      "settings":[
        {
          "type":"radio",
          "id":"content_alignment",
          "label":"",
          "description":"",
          "default":"left",
          "options":[
            {
              "value":"left",
              "label":"Left"
            },
            {
              "value":"center",
              "label":"Center"
            },
            {
              "value":"right",
              "label":"Right"
            }
          ]
        }
      ]
    },
    {
      "label":"Background",
      "settings":[
        {
          "type":"select",
          "id":"background_color_preset",
          "label":"Choose color set",
          "description":"Color sets can be configured in the Design area.",
          "default":"secondary",
          "options":[
            {
              "value":"primary",
              "label":"Primary"
            },
            {
              "value":"secondary",
              "label":"Secondary"
            },
            {
              "value":"tertiary",
              "label":"Tertiary"
            }
          ]
        }
      ]
    },
    {
      "label":"Section height",
      "settings":[
        {
          "type":"select",
          "id":"section_height_preset",
          "label":"Height preset",
          "description":"",
          "default":"medium",
          "options":[
            {
              "value":"small",
              "label":"Small"
            },
            {
              "value":"medium",
              "label":"Medium"
            },
            {
              "value":"large",
              "label":"Large"
            }
          ]
        }
      ]
    }
  ],
  "blocks":{
    "label":"CTA Button",
    "limit":1,
    "types":[
      {
        "type":"button",
        "label":"Button",
        "settings":[
          {
            "type":"text",
            "id":"button_text",
            "label":"Text"
          },
          {
            "type":"page_picker",
            "id":"button_url",
            "label":"URL"
          }
        ]
      }
    ]
  }
}
{% endschema %}
